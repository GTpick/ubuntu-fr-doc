<div class="toc">
<div class="tocheader">Table of Contents <script type="text/javascript">showTocToggle("+","-")</script></div>
<div id="tocinside">
<ul class="toc">
<li class="level1"><span class="li"><a href="#introduction" class="toc"> Introduction </a></span></li>
<li class="level1"><span class="li"><a href="#yaboot.conf" class="toc"> Yaboot.conf </a></span></li>
<li class="level1"><span class="li"><a href="#validation" class="toc"> Validation </a></span></li>
<li class="level1"><span class="li"><a href="#lien" class="toc"> Lien </a></span></li>
</ul>
</div>
</div>
<pre class="code">
Version Hoary
</pre>

<p>
Rédigé par <a href="/utilisateurs/manu" class="wikilink1" title="utilisateurs:manu" onclick="return svchk()" onkeypress="return svchk()">manu</a>.
</p>

<a name="introduction"></a><h1> Introduction </h1>
<div class="level1">

<p>
 <strong>Yaboot</strong> est un gestionnaire de boot pour les machines ayant <strong>Open Firmware</strong> comme système primaire (comme le bios de PC mais en plus évolué). Ce <strong>Bootloader</strong> vous permet d&rsquo;avoir plusieurs systèmes d&rsquo;exploitation sur les machines Apple <em>New World</em>. Ces machines sont les Mac G3 (bleu et blanc), les G4 et les G5. Pour les Mac plus anciens le gestionnaire de boot recommandé, est <strong>bootx</strong> (non documenté dans cette page).
</p>

</div>
<!-- SECTION [68-532] -->
<a name="yaboot.conf"></a><h1> Yaboot.conf </h1>
<div class="level1">

<p>
 Le fichier <strong>/etc/yaboot.conf</strong> est le fichier de configuration de <strong>Yaboot</strong>. Vous pouvez le modifier en fonction de vos besoins avec un éditeur de text ouvert en tant que <em>root</em>.
</p>
<pre class="code">
sudo gedit /etc/yaboot.conf
</pre>

<p>
Vous obtiendrez quelque chose comme ça:
</p>
<pre class="code">
## yaboot.conf generated by the Ubuntu installer
##
## run: &quot;man yaboot.conf&quot; for details. Do not make changes until you have!!
## see also: /usr/share/doc/yaboot/examples for example configurations.
##
## For a dual-boot menu, add one or more of:
## bsd=/dev/hdaX, macos=/dev/hdaY, macosx=/dev/hdaZ

boot=/dev/hda2                          #indique sur quel partition est le boot système Yaboot
device=/pci@f4000000/ata-6@d/disk@0:    
partition=4                             #nombre de partition sur le disque
root=/dev/hda4                          #partition racine / d'Ubuntu
timeout=100                             #temps d'attente au boot linux (aprés le Yaboot)
install=/usr/lib/yaboot/yaboot
magicboot=/usr/lib/yaboot/ofboot        
enablecdboot                            #permet le boot sur CD (touche c)
macosx=/dev/hda3                        #localisation partition de Mac Os X
defaultos=macosx                        #choix du système bootant par défaut
image=/boot/vmlinux                  
	label=Linux
	read-only
	initrd=/boot/initrd.img
	append=&quot;quiet splash&quot;

image=/boot/vmlinux.old
	label=old
	read-only
	initrd=/boot/initrd.img.old
	append=&quot;quiet splash&quot;
</pre>

<p>
Par defaut l&rsquo;option <strong>defaultos</strong> n&rsquo;est pas présente, donc par défaut c&rsquo;est linux (Ubuntu) qui boot automatiquement. Vous pouvez en rajoutant cette option avec le choix de votre <acronym title="Operating System">OS</acronym> par défaut démarrer automatiquement sur Mac Os 9/X. Il y a beaucoup d&rsquo;autres options possibles, pour les connaître je vous renvoie sur le <em>man</em> de <strong>yaboot</strong> et <strong>yaboot.conf</strong>. Parmis les plus intéréssants :
</p>
<pre class="code">
password=           #pour protéger le boot avec un password
delay=              #delai avant le boot automatique
enableofboot        #autoriser l'ouverture de Open Firmware au boot 
enablenetboot       #autoriser le boot sur réseau
......
</pre>

</div>
<!-- SECTION [533-2686] -->
<a name="validation"></a><h1> Validation </h1>
<div class="level1">

<p>
 Une fois que vous avez modifié le <strong>/etc/yaboot.conf</strong>, vous devez régénérer le boot sur la partition de démarrage: ici <em>/dev/hda2</em> pour qu&rsquo;il prenne en compte les modifications. Cela se fait simplement en utilisant la commande <strong>ybin</strong>.
</p>
<pre class="code">
sudo ybin -v            #l'option -v pour voir un peu ce qui ce passe mais elle n'est pas obligatoire
</pre>

<p>
Bien sur pour plus d&rsquo;information regardez le <em>man</em> de <strong>ybin</strong>.
</p>

</div>
<!-- SECTION [2687-3143] -->
<a name="lien"></a><h1> Lien </h1>
<div class="level1">
<ul>
<li class="level1"><span class="li"> <a href="http://penguinppc.org/bootloaders/yaboot/doc/yaboot-howto.shtml/" class="urlextern" title="http://penguinppc.org/bootloaders/yaboot/doc/yaboot-howto.shtml/" onclick="return svchk()" onkeypress="return svchk()" rel="nofollow"> penguinppc.org</a> </span>
</li>
</ul>

</div>
<!-- SECTION [3144-] -->